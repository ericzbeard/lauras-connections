<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
<meta name="theme-color" content="#0b0f14" />
<title>Connections Puzzle</title>
<style>
  :root{--bg:#0b0f14;--panel:#121923;--text:#e8eef6;--muted:#97a6ba;--accent:#4da3ff;--good:#4caf50;--warn:#ffca28;--bad:#ef5350;--chip:#1a2431;--shadow:0 10px 30px rgba(0,0,0,.35);--radius:16px}
  *{box-sizing:border-box}
  html,body{height:100%;margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial;background:radial-gradient(1200px 800px at 20% -10%,#16202d 0%,#0b0f14 55%) fixed;color:var(--text)}
  header{position:sticky;top:0;z-index:10;background:linear-gradient(0deg,rgba(11,15,20,.6),rgba(11,15,20,.9));backdrop-filter:blur(6px);border-bottom:1px solid #1c2a3f}
  .header-inner{max-width:980px;margin:0 auto;padding:10px 12px;display:flex;align-items:center;gap:10px;flex-wrap:wrap;justify-content:space-between}
  .logo{font-weight:800;font-size:clamp(18px,4.5vw,24px)}
  .controls{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
  button{appearance:none;border:none;background:var(--chip);color:var(--text);padding:12px 14px;border-radius:12px;cursor:pointer;font-weight:700;box-shadow:var(--shadow);transition:transform .05s ease,background .2s ease,opacity .2s ease;min-height:44px;touch-action:manipulation}
  button:active{transform:translateY(1px)}
  button.ghost{background:transparent;border:1px solid #2b3a4f}
  button[disabled]{opacity:.5;pointer-events:none}
  main{max-width:980px;margin:8px auto 100px;padding:0 12px;display:block}
  .board{display:grid;gap:8px;grid-template-columns:repeat(4,1fr);background:rgba(255,255,255,.03);padding:8px;border-radius:var(--radius);box-shadow:var(--shadow)}
  .card{background:var(--panel);border:1px solid #223249;border-radius:14px;padding:10px;min-height:70px;display:flex;align-items:center;justify-content:center;text-align:center;font-weight:800;font-size:clamp(14px,3.7vw,18px);cursor:pointer;transition:transform .08s ease,background .2s ease,border-color .2s ease}
  .card.selected{outline:3px solid var(--accent);background:#0e223c;border-color:#355a87;transform:translateY(-1px)}
  .status-row{display:flex;gap:8px;flex-wrap:wrap;margin-top:8px}
  .pill{background:var(--chip);color:var(--muted);padding:6px 10px;border-radius:999px;font-weight:700;font-size:12px}
  .actionbar{position:fixed;left:0;right:0;bottom:0;z-index:15;background:linear-gradient(0deg,rgba(11,15,20,.95),rgba(11,15,20,.7));backdrop-filter:blur(6px);border-top:1px solid #1c2a3f;padding:10px 12px calc(10px + env(safe-area-inset-bottom))}
  .actionbar .row{display:grid;grid-template-columns:1fr 1fr 1fr;gap:8px}
  .actionbar .row button{min-height:48px;font-size:16px}

  /* HOME GRID */
  .home{display:grid;gap:12px}
  .home[hidden]{display:none}
  .home h1{margin:.25rem 0 .25rem;font-size:clamp(20px,5vw,26px)}
  .home-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:10px}
  @media (max-width:520px){ .home-grid{grid-template-columns:repeat(3,1fr);} }
  .tile{background:rgba(255,255,255,.04);border:1px solid #223249;border-radius:14px;padding:12px;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:4px;min-height:72px;cursor:pointer;box-shadow:var(--shadow)}
  .tile .num{font-weight:900;font-size:18px}
  .tile .status{font-size:20px}
  .legend{display:flex;gap:10px;flex-wrap:wrap;color:var(--muted);font-size:13px}
  .legend .pill{font-size:12px}

  /* SOLVED GROUP BAR */
  .group{background:var(--panel);border-radius:14px;padding:14px;border-left:4px solid #43699e;margin-bottom:8px;box-shadow:var(--shadow)}
  .group .title{font-weight:900;font-size:16px;margin-bottom:6px;text-transform:uppercase;letter-spacing:.5px}
  .group .words{color:var(--muted);font-size:15px;line-height:1.5}

  /* RESULTS SCREEN */
  .results{display:grid;gap:12px}
  .results[hidden]{display:none}
  .results h1{margin:.25rem 0 .5rem;font-size:clamp(20px,5vw,26px)}
  .results-grid{display:flex;flex-direction:column;gap:6px;background:var(--panel);padding:16px;border-radius:var(--radius);box-shadow:var(--shadow)}
  .results-row{display:flex;gap:4px;font-size:28px;line-height:1}

  /* CONGRATULATIONS */
  .congrats{background:linear-gradient(135deg,#4caf50,#45a049);border-radius:var(--radius);padding:20px;text-align:center;margin-top:12px;box-shadow:var(--shadow);animation:slideIn 0.5s ease-out}
  .congrats[hidden]{display:none}
  .congrats-text{font-size:clamp(24px,6vw,32px);font-weight:900;color:#fff;margin-bottom:4px}
  .congrats-subtext{font-size:clamp(14px,3.5vw,18px);color:rgba(255,255,255,0.9)}
  @keyframes slideIn{from{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}

  /* FAILURE */
  .failure{background:linear-gradient(135deg,#ef5350,#e53935);border-radius:var(--radius);padding:20px;text-align:center;margin-top:12px;box-shadow:var(--shadow);animation:slideIn 0.5s ease-out}
  .failure[hidden]{display:none}
  .failure-text{font-size:clamp(24px,6vw,32px);font-weight:900;color:#fff;margin-bottom:4px}
  .failure-subtext{font-size:clamp(14px,3.5vw,18px);color:rgba(255,255,255,0.9)}
</style>
</head>
<body>
<header>
  <div class="header-inner">
    <div class="logo" id="logo">üîó Laura's Connections</div>
    <div class="controls">
      <button id="homeBtn" class="ghost">üìã Puzzles</button>
      <button id="resetBtn" class="ghost">üîÑ Reset</button>
    </div>
  </div>
</header>
<main>
  <!-- SELECTOR (separate screen) -->
  <section id="homeScreen" class="home" aria-label="Puzzle selector" hidden>
    <h1>Select a puzzle</h1>
    <div class="legend">
      <span class="pill">‚¨ú Unsolved</span>
      <span class="pill">‚úÖ Solved</span>
      <span class="pill">‚úñÔ∏è Failed</span>
    </div>
    <div id="homeGrid" class="home-grid"></div>
  </section>

  <!-- GAME SCREEN -->
  <section id="gameScreen" hidden>
    <div id="board" class="board"></div>
    <div id="congrats" class="congrats" hidden>
      <div class="congrats-text">üéâ Awesome! üéâ</div>
      <div class="congrats-subtext">You solved the puzzle!</div>
    </div>
    <div id="failure" class="failure" hidden>
      <div class="failure-text">üòî Better luck next time!</div>
      <div class="failure-subtext">You've reached the maximum mistakes.</div>
    </div>
    <div id="resultsButtonWrapper" style="margin-top:12px;display:none">
      <button id="resultsBtn2" style="width:100%;min-height:48px;font-size:16px">üìä Show Results</button>
    </div>
    <div class="status-row">
      <div id="mistakes" class="pill">Mistakes: <b>0/4</b></div>
      <div id="puzzleId" class="pill">Puzzle: <b>-</b></div>
    </div>
  </section>

  <!-- RESULTS SCREEN -->
  <section id="resultsScreen" class="results" hidden>
    <h1>Results</h1>
    <div id="resultsGrid" class="results-grid"></div>
    <div style="margin-top:16px;display:flex;gap:8px;flex-wrap:wrap">
      <button id="copyResultsBtn">üìã Copy Results</button>
      <button id="backToGameBtn" class="ghost">‚Üê Back to Puzzle</button>
    </div>
  </section>
</main>

<div id="actionbar" class="actionbar" role="group" aria-label="Actions">
  <div class="row">
    <button id="submitBtn" class="primary">‚úÖ Submit</button>
    <button id="deselectBtn">üôÖ Deselect</button>
    <button id="shuffleBtn">üîÄ Shuffle</button>
  </div>
</div>

<div id="toast" class="toast" style="position:fixed;left:50%;transform:translateX(-50%);bottom:80px;background:#111a27;border:1px solid #223249;box-shadow:var(--shadow);color:var(--text);padding:10px 14px;border-radius:12px;display:none"></div>
<script>
const COLOR_MAP={purple:'#9c27b0',blue:'#4da3ff',green:'#4caf50',yellow:'#ffca28'};
const COLOR_EMOJI={purple:'üü™',blue:'üü¶',green:'üü©',yellow:'üü®'};
const COLOR_REVERSE={'#9c27b0':'purple','#4da3ff':'blue','#4caf50':'green','#ffca28':'yellow'};
const $=(s,r=document)=>r.querySelector(s);
const $$=(s,r=document)=>Array.from(r.querySelectorAll(s));
const shuffle=a=>a.map(v=>[Math.random(),v]).sort((a,b)=>a[0]-b[0]).map(p=>p[1]);
const toast=(m,ms=1400)=>{const t=$('#toast');t.textContent=m;t.style.display='block';clearTimeout(t._h);t._h=setTimeout(()=>t.style.display='none',ms)};
const STORAGE_PREFIX='connections.v2.';
let currentIndex=0;
let allPuzzles=[];
const state={data:null,id:null,order:[],selection:new Set(),found:[],mistakes:0,mistakesLog:[],guesses:[],locked:false,failed:false};
const MAX_MISTAKES=4;

/* ---------- Screens ---------- */
function showHome(){ $('#homeScreen').hidden=false; $('#gameScreen').hidden=true; $('#resultsScreen').hidden=true; $('#homeBtn').disabled=true; $('#resetBtn').disabled=true; $('#actionbar').style.display='none'; $('#logo').textContent='üîó Laura\'s Connections'; renderHome(); }
function showGame(){ $('#homeScreen').hidden=true; $('#gameScreen').hidden=false; $('#resultsScreen').hidden=true; $('#homeBtn').disabled=false; $('#resetBtn').disabled=false; $('#actionbar').style.display=''; $('#logo').textContent=`üîó Laura's Connections #${currentIndex+1}`; buildBoard(); updateCongratsDisplay(); }
function showResults(){ $('#homeScreen').hidden=true; $('#gameScreen').hidden=true; $('#resultsScreen').hidden=false; $('#actionbar').style.display='none'; renderResults(); }
function updateCongratsDisplay(){ const solved=state.locked&&!state.failed; $('#congrats').hidden=!solved; $('#failure').hidden=!state.failed; $('#resultsButtonWrapper').style.display=state.locked?'block':'none'; }

/* ---------- Home grid ---------- */
function getPuzzleStatus(p){
  // returns 'unsolved' | 'solved' | 'failed'
  try{
    const raw=localStorage.getItem(STORAGE_PREFIX+(p.id||'')); if(!raw) return 'unsolved';
    const obj=JSON.parse(raw);
    if(obj.locked){
      if(obj.mistakes>=MAX_MISTAKES) return 'failed';
      if(Array.isArray(obj.found) && obj.found.length===4) return 'solved';
    }
  }catch{}
  return 'unsolved';
}
function statusSymbol(status){ return status==='solved'?'‚úÖ':(status==='failed'?'‚úñÔ∏è':'‚¨ú'); }
function renderHome(){
  const grid=$('#homeGrid'); grid.innerHTML='';
  allPuzzles.forEach((p,i)=>{
    const tile=document.createElement('button'); tile.className='tile'; tile.setAttribute('aria-label',`Open puzzle ${i+1}`);
    const s=getPuzzleStatus(p);
    tile.innerHTML=`<div class="status">${statusSymbol(s)}</div><div class="num">${i+1}</div>`;
    tile.onclick=()=>{ currentIndex=i; loadPuzzle(allPuzzles[i]); showGame(); };
    grid.appendChild(tile);
  });
}

/* ---------- Game ---------- */
function pool(){return state.data.groups.flatMap(g=>g.words)}
function buildBoard(){const b=$('#board');b.innerHTML='';
// First, render any solved groups at the top
if(state.found.length>0){state.found.forEach(g=>{const wrap=document.createElement('div');wrap.className='group';wrap.style.borderLeftColor=g.color||'#43699e';wrap.style.gridColumn='span 4';wrap.innerHTML=`<div class="title">${escapeHtml(g.category)}</div><div class="words">${g.words.map(escapeHtml).join(' ¬∑ ')}</div>`;b.appendChild(wrap)})}
// Then render remaining cards or show all groups if locked
if(state.locked){const allGroups=state.found.length===4?[]:state.data.groups.filter(g=>!state.found.some(f=>f.category===g.category)).map(g=>({category:g.category,words:[...g.words],color:COLOR_MAP[g.color]||g.color}));allGroups.forEach(g=>{const wrap=document.createElement('div');wrap.className='group';wrap.style.borderLeftColor=g.color||'#43699e';wrap.style.gridColumn='span 4';wrap.innerHTML=`<div class="title">${escapeHtml(g.category)}</div><div class="words">${g.words.map(escapeHtml).join(' ¬∑ ')}</div>`;b.appendChild(wrap)})}else{const foundWords=new Set(state.found.flatMap(g=>g.words));const words=pool();const activeWords=words.filter(w=>!foundWords.has(w));if(state.order.length!==activeWords.length){const activeIndices=words.map((w,i)=>({w,i})).filter(({w})=>!foundWords.has(w)).map(({i})=>i);state.order=shuffle(activeIndices);state.selection.clear()}state.order.forEach(i=>{const d=document.createElement('div');d.className='card';d.textContent=words[i];if(state.selection.has(i))d.classList.add('selected');d.onclick=()=>toggle(i,d);b.appendChild(d)})}$('#mistakes b').textContent=`${state.mistakes}/${MAX_MISTAKES}`;$('#puzzleId b').textContent=state.id||'-';reflectLockedUI()}
function reflectLockedUI(){const disabled=state.locked;$('#submitBtn').disabled=disabled;$('#deselectBtn').disabled=disabled;$('#shuffleBtn').disabled=disabled;$('#resetBtn').disabled=false}
function toggle(i,d){if(state.locked){toast('Puzzle is finished.');return}if(state.selection.has(i)){state.selection.delete(i);d.classList.remove('selected')}else{if(state.selection.size>=4){toast('Maximum 4 words');return}state.selection.add(i);d.classList.add('selected')}}
function submit(){if(state.locked){toast('Puzzle is finished.');return}if(state.selection.size!==4){toast('Pick exactly 4');return}const wordsSel=[...state.selection].map(i=>pool()[i]);
// Check if this combination was already tried
const sortedWords=wordsSel.slice().sort().join(',');const alreadyTried=state.mistakesLog.some(entry=>entry.words.slice().sort().join(',')===sortedWords);if(alreadyTried){toast('Already tried that...');return}
const match=state.data.groups.find(g=>g.words.every(w=>wordsSel.includes(w)));
// Track guess for results visualization
const guessColors=wordsSel.map(w=>{const group=state.data.groups.find(g=>g.words.includes(w));if(!group)return 'gray';return group.colorName||COLOR_REVERSE[group.color]||'gray'});state.guesses.push({words:wordsSel,colors:guessColors,correct:!!match});
if(match){state.found.push({category:match.category,words:[...match.words],color:COLOR_MAP[match.color]||match.color});toast('‚úÖ Correct');const foundSet=new Set(match.words);const words=pool();state.order=state.order.filter(i=>!foundSet.has(words[i]));state.selection.clear();if(state.found.length===4){toast('üéâ Solved!');state.locked=true;state.failed=false;updateCongratsDisplay()}buildBoard();saveSilently()}else{const entry={ts:Date.now(),words:[...wordsSel]};state.mistakesLog.push(entry);state.mistakes=Math.min(MAX_MISTAKES,state.mistakes+1);$('#mistakes b').textContent=`${state.mistakes}/${MAX_MISTAKES}`;const oneAway=state.data.groups.some(g=>g.words.filter(w=>wordsSel.includes(w)).length===3);toast(oneAway?'One away...':'‚ùå Not a group');if(state.mistakes>=MAX_MISTAKES){toast('üí• Max mistakes reached ‚Äî revealing solution');state.failed=true;revealAllAndLock();updateCongratsDisplay()}saveSilently()}}
function revealAllAndLock(){const foundWords=new Set(state.found.flatMap(g=>g.words));state.data.groups.forEach(g=>{if(!g.words.every(w=>foundWords.has(w))){state.found.push({category:g.category,words:[...g.words],color:COLOR_MAP[g.color]||g.color})}});state.locked=true;state.selection.clear();buildBoard()}
function deselectAll(){if(state.locked){toast('Puzzle is finished.');return}state.selection.clear();$$('.card').forEach(c=>c.classList.remove('selected'))}
function shuffleBoard(){if(state.locked){toast('Puzzle is finished.');return}state.order=shuffle(state.order);buildBoard()}
function saveSilently(){if(!state.id)return;const payload={data:state.data,id:state.id,order:state.order,selection:[...state.selection],found:state.found,mistakes:state.mistakes,mistakesLog:state.mistakesLog,guesses:state.guesses,locked:state.locked,failed:state.failed};localStorage.setItem(STORAGE_PREFIX+state.id,JSON.stringify(payload))}
function restoreIfAny(){if(!state.id)return;try{const raw=localStorage.getItem(STORAGE_PREFIX+state.id);if(!raw)return;const p=JSON.parse(raw);state.order=Array.isArray(p.order)?p.order:state.order;state.selection=new Set(Array.isArray(p.selection)?p.selection:[]);state.found=Array.isArray(p.found)?p.found:[];state.mistakes=Number.isInteger(p.mistakes)?p.mistakes:0;state.mistakesLog=Array.isArray(p.mistakesLog)?p.mistakesLog:[];state.guesses=Array.isArray(p.guesses)?p.guesses:[];state.locked=!!p.locked;if(p.failed===undefined&&state.locked){state.failed=state.mistakes>=MAX_MISTAKES}else{state.failed=!!p.failed}if(state.data&&state.data.groups){state.data.groups.forEach(g=>{if(!g.colorName&&g.color){g.colorName=COLOR_REVERSE[g.color]||g.color}})}}catch{}}
function normalizePuzzle(p){p.groups.forEach(g=>{g.words=g.words.map(w=>String(w).toUpperCase());const originalColor=g.color;g.colorName=COLOR_MAP[originalColor]?originalColor:COLOR_REVERSE[originalColor]||originalColor;g.color=COLOR_MAP[originalColor]||originalColor});return p}
function loadPuzzle(json){state.data=normalizePuzzle(json);state.id=json.id||Math.random().toString(36).slice(2);state.order=[];state.selection.clear();state.found=[];state.mistakes=0;state.mistakesLog=[];state.guesses=[];state.locked=false;state.failed=false;restoreIfAny();buildBoard()}
function resetPuzzle(){if(!state.data)return;localStorage.removeItem(STORAGE_PREFIX+state.id);state.order=[];state.selection.clear();state.found=[];state.mistakes=0;state.mistakesLog=[];state.guesses=[];state.locked=false;state.failed=false;buildBoard();updateCongratsDisplay();toast('üîÑ Puzzle reset!')}

/* ---------- Results ---------- */
function renderResults(){const grid=$('#resultsGrid');grid.innerHTML='';if(!state.guesses||state.guesses.length===0){grid.innerHTML='<p style="color:var(--muted)">No guesses recorded</p>';return}state.guesses.forEach(guess=>{const row=document.createElement('div');row.className='results-row';const colorCounts={};guess.colors.forEach(c=>{const colorName=COLOR_EMOJI[c]?c:COLOR_REVERSE[c]||c;colorCounts[colorName]=(colorCounts[colorName]||0)+1});const sortedColors=Object.entries(colorCounts).sort((a,b)=>b[1]-a[1]);sortedColors.forEach(([color,count])=>{for(let i=0;i<count;i++){row.textContent+=COLOR_EMOJI[color]||'‚¨ú'}});grid.appendChild(row)})}
function copyResults(){const puzzleNum=currentIndex+1;let text=`Laura's Connections #${puzzleNum}\n`;if(state.locked&&state.found.length===4){text+='Solved! ‚úÖ\n'}else if(state.locked){text+='Failed ‚ùå\n'}text+=`Mistakes: ${state.mistakes}/${MAX_MISTAKES}\n\n`;state.guesses.forEach(guess=>{const colorCounts={};guess.colors.forEach(c=>{const colorName=COLOR_EMOJI[c]?c:COLOR_REVERSE[c]||c;colorCounts[colorName]=(colorCounts[colorName]||0)+1});const sortedColors=Object.entries(colorCounts).sort((a,b)=>b[1]-a[1]);sortedColors.forEach(([color,count])=>{for(let i=0;i<count;i++){text+=COLOR_EMOJI[color]||'‚¨ú'}});text+='\n'});navigator.clipboard.writeText(text).then(()=>toast('üìã Copied to clipboard!')).catch(()=>toast('Failed to copy'))}

$('#submitBtn').onclick=submit;$('#deselectBtn').onclick=deselectAll;$('#shuffleBtn').onclick=()=>{shuffleBoard();saveSilently()};$('#resetBtn').onclick=resetPuzzle;$('#homeBtn').onclick=showHome;$('#resultsBtn2').onclick=showResults;$('#copyResultsBtn').onclick=copyResults;$('#backToGameBtn').onclick=showGame;

function escapeHtml(s){return String(s).replace(/[&<>"']/g,c=>({"&":"&amp;","<":"&lt;",">":"&gt;","\"":"&quot;","'":"&#39;"}[c]))}

// Embedded puzzles (added more for testing)
const SAMPLES=[
  {id:'p1',groups:[
    {category:'PRIMARY COLORS',color:'green',words:['RED','BLUE','YELLOW','GREEN']},
    {category:'BIRDS',color:'yellow',words:['ROBIN','WREN','HERON','SWAN']},
    {category:'TOOLS',color:'purple',words:['SAW','DRILL','PLANE','LEVEL']},
    {category:'PLANETS',color:'blue',words:['MARS','VENUS','EARTH','SATURN']}
  ]},
  {id:'p2',groups:[
    {category:'ENDS WITH -ING',color:'yellow',words:['RING','SLING','THING','SPRING']},
    {category:'ANIMALS',color:'green',words:['MOUSE','OTTER','PANDA','HORSE']},
    {category:'KINDS OF BREAD',color:'blue',words:['RYE','PITA','NAAN','BAGUETTE']},
    {category:'TOOLS',color:'purple',words:['FILE','LEVEL','DRILL','SAW']}
  ]},
  {id:'p3',groups:[
    {category:'SEA/SEE SET',color:'blue',words:['SEA','SEE','SEW','SO']},
    {category:'FLOWER/FLOUR SET',color:'yellow',words:['FLOUR','FLOWER','KNIGHT','NIGHT']},
    {category:'PAIRS',color:'green',words:['PARE','PEAR','PAIR','PAREE']},
    {category:'DIRECTIONS',color:'purple',words:['EAST','WEST','NORTH','SOUTH']}
  ]},
  {id:'p4',groups:[
    {category:'FRUIT VARIETIES',color:'green',words:['GALA','NAVEL','BARTLETT','CAVENDISH']},
    {category:'WORDS BEFORE "HOUSE"',color:'blue',words:['TREE','GREEN','DOLL','GLASS']},
    {category:'CITIES ON RIVERS',color:'yellow',words:['PARIS','LONDON','CAIRO','BUDAPEST']},
    {category:'FIVE-LETTER ANIMALS',color:'purple',words:['OTTER','MOOSE','PANDA','KOALA']}
  ]},
  {id:'p5',groups:[
    {category:'HOMOPHONES',color:'yellow',words:['EIGHT','ATE','KNIGHT','NIGHT']},
    {category:'PIECES OF A SUIT',color:'blue',words:['JACKET','PANTS','VEST','SHIRT']},
    {category:'COMPUTER INPUTS',color:'purple',words:['MOUSE','TOUCH','VOICE','KEYBOARD']},
    {category:'PASTA SHAPES',color:'green',words:['FARFALLE','PENNE','RIGATONI','ORECCHIETTE']}
  ]},
  {id:'p6',groups:[
    {category:'NBA TEAMS',color:'blue',words:['BULLS','HEAT','SUNS','JAZZ']},
    {category:'FISH',color:'green',words:['SALMON','TROUT','COD','HAKE']},
    {category:'WORDS AFTER "BLACK"',color:'yellow',words:['JACK','MAIL','ICE','OUT']},
    {category:'MUSICAL TEMPOS',color:'purple',words:['ALLEGRO','LARGO','ANDANTE','PRESTO']}
  ]},
  {id:'p7',groups:[
    {category:'US PRESIDENTS (LAST NAMES)',color:'purple',words:['ADAMS','HARRISON','JOHNSON','ROOSEVELT']},
    {category:'GEMSTONES',color:'blue',words:['OPAL','RUBY','SAPPHIRE','EMERALD']},
    {category:'TREE PARTS',color:'green',words:['ROOT','TRUNK','BRANCH','CROWN']},
    {category:'BOARD GAMES',color:'yellow',words:['CLUE','RISK','MONOPOLY','LIFE']}
  ]},
  {id:'p8',groups:[
    {category:'SEAS',color:'blue',words:['ARAL','BALTIC','RED','MARMARA']},
    {category:'WORDS STARTING WITH MICRO-',color:'yellow',words:['MICROSCOPE','MICROWAVE','MICROCHIP','MICROPHONE']},
    {category:'BERRIES',color:'green',words:['ELDERBERRY','GOOSEBERRY','STRAWBERRY','BLUEBERRY']},
    {category:'CLOTHING FASTENERS',color:'purple',words:['BUTTON','ZIPPER','VELCRO','SNAP']}
  ]}
];

allPuzzles=SAMPLES;
// Load first puzzle by default
if(allPuzzles.length>0){
  currentIndex=0;
  loadPuzzle(allPuzzles[0]);
  showGame();
}else{
  showHome();
}

document.addEventListener('keydown',e=>{if($('#gameScreen').hidden) return; if(e.key==='Enter')submit(); if(e.key==='Escape')deselectAll()});
</script>
</body>
</html>

